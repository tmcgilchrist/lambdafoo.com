<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>My Hakyll Blog - index</title>
        <link rel="stylesheet" type="text/css" href="../../../../../../css/default.css" />
        <link rel="stylesheet" type="text/css" href="../../../../../../css/screen.css" />
    </head>
    <body>
        <div id="header">
            <div id="logo">
                <a href="../../../../../../">My Hakyll Blog</a>
            </div>
            <div id="navigation">
                <a href="../../../../../../">Home</a>
                <a href="../../../../../../about.html">About</a>
                <a href="../../../../../../talks.html">Talks</a>
                <a href="../../../../../../archive.html">Archive</a>
            </div>
        </div>

        <div id="content">
            <h1>index</h1>

            <h1 id="codemirror-2-c-like-mode">CodeMirror 2: C-like mode</h1>
<form>
<textarea id="code" name="code">
<p>/* C demo code */ #include <zmq.h> #include <pthread.h> #include <semaphore.h> #include <time.h> #include <stdio.h> #include <fcntl.h> #include <malloc.h> typedef struct { void* arg_socket; zmq_msg_t* arg_msg; char* arg_string; unsigned long arg_len; int arg_int, arg_command; int signal_fd; int pad; void* context; sem_t sem; } acl_zmq_context; #define p(X) (context-&gt;arg_##X) void* zmq_thread(void* context_pointer) { acl_zmq_context* context = (acl_zmq_context*)context_pointer; char ok = ‘K’, err = ‘X’; int res; while (1) { while ((res = sem_wait(&amp;context-&gt;sem)) == EINTR); if (res) {write(context-&gt;signal_fd, &amp;err, 1); goto cleanup;} switch(p(command)) { case 0: goto cleanup; case 1: p(socket) = zmq_socket(context-&gt;context, p(int)); break; case 2: p(int) = zmq_close(p(socket)); break; case 3: p(int) = zmq_bind(p(socket), p(string)); break; case 4: p(int) = zmq_connect(p(socket), p(string)); break; case 5: p(int) = zmq_getsockopt(p(socket), p(int), (void*)p(string), &amp;p(len)); break; case 6: p(int) = zmq_setsockopt(p(socket), p(int), (void*)p(string), p(len)); break; case 7: p(int) = zmq_send(p(socket), p(msg), p(int)); break; case 8: p(int) = zmq_recv(p(socket), p(msg), p(int)); break; case 9: p(int) = zmq_poll(p(socket), p(int), p(len)); break; } p(command) = errno; write(context-&gt;signal_fd, &amp;ok, 1); } cleanup: close(context-&gt;signal_fd); free(context_pointer); return 0; } void* zmq_thread_init(void* zmq_context, int signal_fd) { acl_zmq_context* context = malloc(sizeof(acl_zmq_context)); pthread_t thread; context-&gt;context = zmq_context; context-&gt;signal_fd = signal_fd; sem_init(&amp;context-&gt;sem, 1, 0); pthread_create(&amp;thread, 0, &amp;zmq_thread, context); pthread_detach(thread); return context; }</p>
</textarea>
</form>
<script>
      var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
        lineNumbers: true,
        matchBrackets: true,
        mode: "text/x-csrc"
      });
    </script>
<p>Simple mode that tries to handle C-like languages as well as it can. Takes two configuration parameters: <code>keywords</code>, an object whose property names are the keywords in the language, and <code>useCPP</code>, which determines whether C preprocessor directives are recognized.</p>
<p><strong>MIME types defined:</strong> <code>text/x-csrc</code> (C code), <code>text/x-c++src</code> (C++ code), <code>text/x-java</code> (Java code), <code>text/x-groovy</code> (Groovy code).</p>
        </div>
        <div id="footer">
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </div>
    </body>
</html>
