<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
      
        Installing NetBSD on a Dell Inspiron 8000 &middot; Perpetually Curious Blog
      
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="../css/poole.css">
  <link rel="stylesheet" href="../css/syntax.css">
  <link rel="stylesheet" href="../css/lanyon.css">
  <link rel="stylesheet" href="../css/book.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../images/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="../images/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="../atom.xml">

  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-28532776-1', 'auto');
    ga('send', 'pageview');
  </script>
<!-- End Google Analytics -->
</head>


  <body class="sidebar-overlay">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">

  <div class="sidebar-item">
    <img src="../images/tim-movember-2009.jpg" />
    <p>Tim McGilchrist</p>
    <p>Principal Software Engineer at Tarides</p>

    <p>
      Twitter: <a href="https://twitter.com/lambda_foo">@lambda_foo</a><br>
      Github: <a href="https://github.com/tmcgilchrist">tmcgilchrist</a><br>
      Email: <a href="mailto:timmcgil@gmail.com">timmcgil@gmail.com</a><br>
      LinkedIn: <a href="https://www.linkedin.com/in/timmcgilchrist">Tim McGilchrist</a>
    </p>

  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="../">
      Blog
    </a>
    <a class="sidebar-nav-item" href="../about">
      About
    </a>
    <a class="sidebar-nav-item" href="../talks">
      Talks
    </a>
    <p class="sidebar-nav-item">
      Feed:
      <a href="../rss.xml">
        RSS
      </a>
      /
      <a href="../atom.xml">
        Atom
      </a>
    </p>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; Tim McGilchrist 2007-2024
    </p>
    <p>
      Powered by Hakyll
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="../" title="Home">Perpetually Curious Blog</a>
            
            <span class="masthead-links">
              <a href="../">Blog</a> |
              <a href="../pages/about.html">About</a> |
              <a href="../archive.html">Archive</a> |
              <a href="../pages/talks.html">Talks</a>
            </span>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Installing NetBSD on a Dell Inspiron 8000</h1>
  <span class="post-date">September 14, 2008</span>
  <p>I just finished installing NetBSD on my old laptop and I must say it’s quite an
impressive system especially when it comes to updating to a new release.</p>
<p>The victim is my ancient Dell Insprion 8000, featuring a 800Mhz P3 and 384Mb
RAM. Not exactly a powerhouse but the 15” 1400x1050 screen makes up for the lack
of power.</p>
<p>To understand the various steps I had to take, it’s important to note that the
DVD drive is flakey and it has no native Network adapter. Stupidly I tried to
save money and left it out at the time.</p>
<p>Now to the details.</p>
<p>I originally wanted <a href="http://www.openbsd.org">OpenBSD</a> on this thing
but none of the floppy boot disks supported the PCMCIA network cards I have, and
I’m too new to BSDs to know how to fix this. Also none of the recent
<a href="http://www.netbsd.org">NetBSD</a> boot CDs would work, they kept getting IO errors
from the DVD drive.</p>
<p>Finally ended up getting an ancient NetBSD 2.0 cd to work and did an install of
that. Somehow the 2.0 installer didn’t hit any of the IO errors that stopped the
other installs. The PCMCIA network worked and after a bit of messing about with
the NetBSD Guide I was up and running on the home network.</p>
<p>Now for the impressive part upgrading to 4.0.</p>
<ul>
<li>Make a backup. Not required in this case.</li>
<li>Fetch a new kernel and the binary sets and store them /some/where/</li>
<li>Install the new kernel (but keep the old one!!)</li>
</ul>
<pre class="shell"><code>
    mv /netbsd /netbsd.old
    pax -zrf /some/where/newkernel.tgz
    mv /some/where/newkernel /netbsd
</code></pre>
<ul>
<li>Reboot using <strong>reboot</strong></li>
<li>Install all the sets <em>except</em> etc.tzg and xetc.tgz!!</li>
</ul>
<pre class="shell"><code>
    cd /
    pax -zrf /some/where/set.tgz
    ...
</code></pre>
<ul>
<li>Run etcupdate to merge important changes:</li>
</ul>
<pre class="shell"><code>
    cd /
    etcupdate -s /some/where/etc.tgz -s /some/where/xetc.tgz
</code></pre>
<ul>
<li>Upgrade finished, time to reboot.</li>
</ul>
<p>These instructions are originally from
<a href="http://mail-index.netbsd.org/netbsd-help/2008/03/04/msg000089.html">the NetBSD mailing list</a>. Too
easy! The etcupdate set takes a while and I must admit I did stuff it up (a few
times), but this is much easier that I remember from my last Linux update. Now
to recompile the kernel and get the 3Com AirConnect 3CRWE777A card working.</p>
</div>


        <div class="container content">
          <small>Copyright © Tim McGilchrist 2007-2024</small>
          <br>
          <small>Powered by <a href="https://github.com/tmcgilchrist/lambdafoo.com">Hakyll</a></small>
        </div>
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
    </body>
</html>
